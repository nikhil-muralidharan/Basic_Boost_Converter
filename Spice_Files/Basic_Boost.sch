v {xschem version=3.0.0 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
N 135 46.25 135 146.25 { lab=VLX}
N 435 46.25 525 46.25 { lab=Vout}
N 135 146.25 135 206.25 { lab=VLX}
N 135 46.25 235 46.25 { lab=VLX}
N 315 46.25 435 46.25 { lab=Vout}
N 135 306.25 135 336.25 { lab=GND}
N 275 -33.75 275 6.25 { lab=Pdrive}
N 60 256.25 100 256.25 { lab=Ndrive}
N 275 -12.5 415 -12.5 {
lab=Pdrive}
N 415 -102.5 415 -12.5 {
lab=Pdrive}
N 415 -103.75 415 -102.5 {
lab=Pdrive}
N 172.5 -156.25 172.5 46.25 {
lab=VLX}
N 172.5 -163.75 435 -163.75 {
lab=VLX}
N 172.5 -163.75 172.5 -156.25 {
lab=VLX}
N 524.375 46.25 590.625 46.25 {
lab=Vout}
N 635 -208.75 657.5 -208.75 {
lab=GND}
N 730 -128.75 777.5 -128.75 {
lab=Vsen}
N 730 -8.75 777.5 -8.75 {
lab=Vsen_dc}
N 415 -68.75 571.875 -68.75 {
lab=Pdrive}
N 434.375 -163.75 434.375 -128.125 {
lab=VLX}
N 434.375 -128.75 572.5 -128.75 {
lab=VLX}
N 199.375 46.25 199.375 170.625 {
lab=VLX}
N 199.375 170.625 377.5 170.625 {
lab=VLX}
N 377.5 170.625 377.5 180 {
lab=VLX}
N 377.5 180 400 180 {
lab=VLX}
N 346.875 46.25 346.875 250 {
lab=Vout}
N 346.875 250 400 250 {
lab=Vout}
N 77.5 256.875 77.5 369.375 {
lab=Ndrive}
N 77.5 256.25 77.5 256.875 {
lab=Ndrive}
N 77.5 369.375 398.75 370 {
lab=Ndrive}
N 400 320 400 370 {
lab=Ndrive}
N 398.75 370 400 370 {
lab=Ndrive}
N 560 210 604.375 210 {
lab=ZCD}
N 560 280 601.25 280 {
lab=ZCDb}
N 605 111.25 627.5 111.25 {
lab=GND}
N 480 170 480 180 {
lab=#net1}
N 480 170 590 170 {
lab=#net1}
N 590 170 590 190 {
lab=#net1}
N 590 190 605 190 {
lab=#net1}
N 605 171.25 605 190 {
lab=#net1}
N 490 415 490 440 {
lab=#net2}
N 490 355 530 355 {
lab=GND}
N 530 355 530 375 {
lab=GND}
N 75 45 75 415 {
lab=Vin}
N 75 415 390 415 {
lab=Vin}
N 390 415 390 440 {
lab=Vin}
N 580 210 580 350 {
lab=ZCD}
N 535 350 580 350 {
lab=ZCD}
N 415 350 535 350 {
lab=ZCD}
N 415 350 415 390 {
lab=ZCD}
N 325 390 415 390 {
lab=ZCD}
N 325 390 325 500 {
lab=ZCD}
N 325 500 390 500 {
lab=ZCD}
N 330 -10 330 470 {
lab=Pdrive}
N 330 470 390 470 {
lab=Pdrive}
N 330 -12.5 330 -10 {
lab=Pdrive}
N 360 560 390 560 {
lab=#net3}
N 330 530 390 530 {
lab=#net4}
N 580 470 620 470 {
lab=Vin_Div}
N 580 500 620 500 {
lab=Csense}
N 580 530 620 530 {
lab=Ttrig}
N 750 260 750.625 -8.75 {
lab=Vsen_dc}
N 750 260 920 260 {
lab=Vsen_dc}
N 920 260 920 270 {
lab=Vsen_dc}
N 920 270 950 270 {
lab=Vsen_dc}
N 756.875 -168.125 756.875 -128.75 {
lab=Vsen}
N 756.875 -168.125 851.25 -168.125 {
lab=Vsen}
N 851.25 -168.125 851.25 -131.25 {
lab=Vsen}
N 851.25 -131.25 851.25 225 {
lab=Vsen}
N 851.25 225 928.75 225 {
lab=Vsen}
N 928.75 225 928.75 230 {
lab=Vsen}
N 928.75 230 950 230 {
lab=Vsen}
N 873.75 350 950 350 {
lab=#net5}
N 950 390 1021.25 390 {
lab=#net6}
N 593.75 210 593.75 371.25 {
lab=ZCD}
N 593.75 371.25 815 371.25 {
lab=ZCD}
N 815 371.25 815 447.5 {
lab=ZCD}
N 815 447.5 933.75 447.5 {
lab=ZCD}
N 933.75 447.5 933.75 450 {
lab=ZCD}
N 933.75 450 950 450 {
lab=ZCD}
N 595 531.25 595 570 {
lab=Ttrig}
N 595 570 900 571.25 {
lab=Ttrig}
N 900 481.25 900 571.25 {
lab=Ttrig}
N 900 481.25 941.25 481.25 {
lab=Ttrig}
N 941.25 480 941.25 481.25 {
lab=Ttrig}
N 941.25 480 950 480 {
lab=Ttrig}
N 595 530 595 531.25 {
lab=Ttrig}
N 1240 320 1391.25 320 {
lab=#net7}
N 1531.25 310 1576.25 310 {
lab=Pctrl}
N 1531.25 330 1576.25 330 {
lab=Nctrl}
N 1531.25 350 1576.25 350 {
lab=Vout_mux}
N 1559.375 240 1559.375 270 {
lab=Pdrive}
N 1559.375 240 1560 240 {
lab=Pdrive}
N 1560 220 1560 240 {
lab=Pdrive}
N 1560 -340 1560 220 {
lab=Pdrive}
N 240 -340 1560 -340 {
lab=Pdrive}
N 240 -340 240 -40 {
lab=Pdrive}
N 240 -40 270 -40 {
lab=Pdrive}
N 275 -40 275 -30 {
lab=Pdrive}
N 270 -40 275 -40 {
lab=Pdrive}
N 950 420 1046.25 420 {
lab=#net8}
N 1046.25 372.5 1046.25 420 {
lab=#net8}
N 1046.25 372.5 1081.25 372.5 {
lab=#net8}
N 1171.25 130 1560 130 {
lab=Pdrive}
N 1171.25 130 1171.25 312.5 {
lab=Pdrive}
N 1168.75 312.5 1171.25 312.5 {
lab=Pdrive}
N 1166.25 312.5 1168.75 312.5 {
lab=Pdrive}
N 1166.25 312.5 1166.25 372.5 {
lab=Pdrive}
N 907.5 447.5 907.5 522.5 {
lab=ZCD}
N 907.5 522.5 920 522.5 {
lab=ZCD}
N 920 520 920 522.5 {
lab=ZCD}
N 920 520 1360 520 {
lab=ZCD}
N 1360 340 1360 520 {
lab=ZCD}
N 1360 340 1391.25 340 {
lab=ZCD}
N 135 140 140 140 {
lab=VLX}
N 140 140 1360 140 {
lab=VLX}
N 1360 140 1360 280 {
lab=VLX}
N 1360 280 1391.25 280 {
lab=VLX}
N 525 106.25 571.25 106.25 {
lab=#net9}
N 571.25 87.5 571.25 106.25 {
lab=#net9}
N 571.25 87.5 647.5 87.5 {
lab=#net9}
N 646.25 87.5 872.5 87.5 {
lab=#net9}
N 871.25 312.5 872.5 87.5 {
lab=#net9}
N 871.25 312.5 926.25 312.5 {
lab=#net9}
N 926.25 310 926.25 312.5 {
lab=#net9}
N 926.25 310 946.25 310 {
lab=#net9}
N 946.25 310 950 310 {
lab=#net9}
N 925 190 950 190 {
lab=#net10}
N 1240 289.375 1265 289.375 {
lab=Vout_compare}
N 1240 289.375 1240 290 {
lab=Vout_compare}
N 1240 349.375 1265 349.375 {
lab=CLKb}
N 1240 349.375 1240 350 {
lab=CLKb}
N 60 255 60 315 {
lab=Ndrive}
N 1550 290 1550 687.5 {
lab=Ndrive}
N 1550 687.5 1550 690 {
lab=Ndrive}
N 1550 685 1550 690 {
lab=Ndrive}
N 60 660 1550 660 {
lab=Ndrive}
N 60 310 60 660 {
lab=Ndrive}
N 635 -148.75 635 -128.4375 {
lab=#net11}
N 686.25 -238.75 720 -238.75 {
lab=#net12}
N 670 -238.75 670 -128.75 {
lab=#net12}
N 670 -238.75 686.25 -238.75 {
lab=#net12}
N 1550 290 1576.25 290 {
lab=Ndrive}
N 1559.375 270 1576.40625 270 {
lab=Pdrive}
N 1560 175 1585 175 {
lab=Pdrive}
N 1550 395 1590 395 {
lab=Ndrive}
N 1531.25 270 1546.25 270 {
lab=Dummy}
N 1546.25 280 1572.5 280 {
lab=Dummy}
N 1546.25 270 1546.25 280 {
lab=Dummy}
N 1536.25 301.25 1547.5 301.25 {
lab=Dummy2}
N 1536.25 290 1536.25 301.25 {
lab=Dummy2}
N 1531.25 290 1536.25 290 {
lab=Dummy2}
N -68.75 173.75 135 173.75 {
lab=VLX}
N -68.75 110 -68.75 173.75 {
lab=VLX}
N -68.75 110 -7.5 110 {
lab=VLX}
N -7.5 108.75 -7.5 110 {
lab=VLX}
N -7.5 108.75 -0 108.75 {
lab=VLX}
C {devices/code_shown.sym} -355 -150 0 0 {name=SPICE only_toplevel=false value="
.tran 0.1ms 1ms uic
.save Vout VLX"}
C {devices/capa.sym} 435 76.25 0 0 {name=C1
m=1
value=4.375u
footprint=1206
device="ceramic capacitor"}
C {devices/res.sym} 525 76.25 0 0 {name=R1
value=6
footprint=1206
device=resistor
m=1}
C {devices/gnd.sym} 135 336.25 0 0 {name=l1 lab=GND}
C {devices/gnd.sym} 435 106.25 0 0 {name=l2 lab=GND}
C {devices/gnd.sym} 465 106.25 0 0 {name=l3 lab=GND}
C {devices/ind.sym} 105 46.25 3 0 {name=L1
m=1
value=3.125u
footprint=1206
device=inductor}
C {devices/lab_pin.sym} 75 46.25 0 0 {name=l4 sig_type=std_logic lab=Vin}
C {devices/gnd.sym} -295 75 0 0 {name=l10 lab=GND}
C {devices/lab_pin.sym} -295 15 0 0 {name=l11 sig_type=std_logic lab=Vin}
C {devices/vsource.sym} -295 45 0 0 {name=V1 value="pwl 0 1 0.25ms 1 0.251ms 1.2 0.500ms 1.2 0.501ms 1"}
C {powern.sym} -240 256.25 0 0 {name=X1}
C {powerp.sym} 275 -113.75 3 1 {name=X2}
C {devices/code.sym} -173.75 -156.25 0 0 {name=TT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib $::SKYWATER_MODELS/sky130.lib.spice tt_mm

"
spice_ignore=false}
C {devices/opin.sym} 585 46.25 0 0 {name=p1 lab=Vout}
C {devices/vsource.sym} 635 -178.75 2 0 {name=VDD_18_Comparator value=1.8}
C {devices/gnd.sym} 657.5 -208.75 0 0 {name=l5 lab=GND}
C {devices/vsource.sym} 720 -208.75 0 0 {name=VBias_Comparator value=0.5}
C {devices/gnd.sym} 720 -178.75 0 0 {name=l14 lab=GND}
C {Current_Sensor.sym} -190 2231.25 0 0 {name=X3}
C {devices/opin.sym} 775 -128.75 0 0 {name=p2 lab=Vsen}
C {devices/opin.sym} 775 -8.75 0 0 {name=p3 lab=Vsen_dc}
C {zcd.sym} 9370 1020 0 0 {}
C {devices/opin.sym} 603.75 210 0 0 {name=p4 lab=ZCD}
C {devices/opin.sym} 601.25 280 0 0 {name=p5 lab=ZCDb}
C {devices/vsource.sym} 605 141.25 2 0 {name=VDD_1 value=1.8}
C {devices/gnd.sym} 627.5 111.25 0 0 {name=l15 lab=GND}
C {otg.sym} 390 440 0 0 {name=X4}
C {devices/vsource.sym} 490 385 2 0 {name=VDD_OTG value=1.8}
C {devices/gnd.sym} 530 375 0 0 {name=l16 lab=GND}
C {devices/vsource.sym} 360 590 0 0 {name=V_Comparator_bias value=0.5}
C {devices/vsource.sym} 330 560 0 0 {name=V_ref value=0.8}
C {devices/gnd.sym} 360 620 0 0 {name=l17 lab=GND}
C {devices/gnd.sym} 330 590 0 0 {name=l18 lab=GND}
C {devices/opin.sym} 620 470 0 0 {name=p6 lab=Vin_Div}
C {devices/opin.sym} 620 500 0 0 {name=p7 lab=Csense}
C {devices/opin.sym} 620 530 0 0 {name=p8 lab=Ttrig}
C {mroat.sym} 1510 800 0 0 {name=X5}
C {devices/vsource.sym} 873.75 380 0 0 {name=V_DDC_bias1 value=0.5}
C {devices/gnd.sym} 873.75 410 0 0 {name=l8 lab=GND}
C {devices/vsource.sym} 1021.25 420 0 0 {name=V_DDC_bias2 value=0.45}
C {devices/gnd.sym} 1021.25 450 0 0 {name=l9 lab=GND}
C {dtc.sym} 1331.25 420 0 0 {name=X7}
C {devices/vsource.sym} 1461.25 230 2 0 {name=VDD_2 value=1.8}
C {devices/vsource.sym} 1110 160 2 0 {name=VDD_3 value=1.8}
C {devices/gnd.sym} 1110 130 0 0 {name=l12 lab=GND}
C {devices/gnd.sym} 1461.25 200 0 0 {name=l13 lab=GND}
C {devices/opin.sym} 1576.25 310 0 0 {name=p9 lab=Pctrl}
C {devices/opin.sym} 1576.25 330 0 0 {name=p10 lab=Nctrl}
C {devices/opin.sym} 1576.25 350 0 0 {name=p11 lab=Vout_mux}
C {devices/opin.sym} 1576.25 290 0 0 {name=p12 lab=Ndrive}
C {devices/opin.sym} 1576.25 270 0 0 {name=p13 lab=Pdrive}
C {devices/opin.sym} 1265 349.375 0 0 {name=p14 lab=CLKb}
C {devices/opin.sym} 1265 289.375 0 0 {name=p15 lab=Vout_compare}
C {inverter.sym} 1226.25 372.5 0 1 {name=X6}
C {devices/vsource.sym} 1126.25 362.5 0 0 {name=VDD_inv value=1.8}
C {devices/gnd.sym} 1126.25 392.5 0 0 {name=VDD_inv1 value=1.8}
C {devices/gnd.sym} 1391.25 300 0 0 {name=l7 lab=GND}
C {devices/res.sym} 495 106.25 1 0 {name=R2
value=6
footprint=1206
device=resistor
m=1}
C {devices/vsource.sym} 925 220 0 0 {name=V_ref1 value=1}
C {devices/gnd.sym} 925 250 0 0 {name=l19 lab=GND}
C {devices/gnd.sym} 1585 235 0 0 {name=l21 lab=GND}
C {devices/vsource.sym} 1585 205 0 0 {name=V4 value= "PULSE (0 1 0 0.01us 0.01us 0.75us 1.25us)"}
C {devices/gnd.sym} 1590 455 0 0 {name=l20 lab=GND}
C {devices/vsource.sym} 1590 425 0 0 {name=V2 value= "PULSE (0 1 0 0.01us 0.01us 0.75us 1.25us)"}
C {devices/opin.sym} 1572.5 280 0 0 {name=p16 lab=Dummy}
C {devices/opin.sym} 1547.5 301.25 0 0 {name=p17 lab=Dummy2}
C {devices/opin.sym} 0 108.75 0 0 {name=p18 lab=VLX}
